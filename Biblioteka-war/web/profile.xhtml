<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core" 
                xmlns:t="http://myfaces.apache.org/tomahawk"
                    
                xmlns:f="http://java.sun.com/jsf/core">

    <ui:define name="content">
        <div class="tabbable"> <!-- Only required for left/right tabs -->
        <ul class="nav nav-tabs">
          <li class="active"><a href="#tab1" data-toggle="tab">Mój Profil</a></li>
          <li><a href="#tab2" data-toggle="tab">Zarezerwowane książki </a></li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="tab1">
            <p><h:graphicImage  value="/img/#{SessionBean.currentUser.avatar}" class="img-polaroid" height="150" width="150"/>  </p>
            <p><b>Data utworzenia:</b></p>
            <p><h:outputText value="#{SessionBean.currentUser.created_at}" /></p>
            <p><b>Imię:</b></p>
            <p><h:outputText value="#{SessionBean.currentUser.firstName}" /></p>
            <p><b>Nazwisko:</b></p>
            <p><h:outputText value="#{SessionBean.currentUser.lastName}" /></p>
            <p><b>Adres e-mail:</b></p>
            <p><h:outputText value="#{SessionBean.currentUser.email}" /></p>
            <p><b>Login:</b></p>
            <p><h:outputText value="#{SessionBean.currentUser.login}" /></p>
            <p><b>Hasło:</b></p>
            <p><h:outputText value="#{SessionBean.currentUser.password}" /></p>          
          </div>
          <div class="tab-pane" id="tab2">
              <h4>Wypożyczone książki (#{AddBookBean.userBooks.size()})</h4>
              <table class="table table-bordered">
                  <thead>
                      <tr>
                      <th>ID</th>
                      <th>Tytuł</th>
                      <th>Autor</th>
                      <th>Data wypożyczenia</th>
                      </tr>
                  </thead>
                  <tbody>                      
                      <c:forEach var="item" items="#{AddBookBean.userBooks}" >
                          <tr>
                              <td>#{item.id}</td>
                              <td>#{item.title}</td>
                              <td>#{item.autor}</td>
                              <td>#{item.year}</td>
                          </tr>
                      </c:forEach>
                  </tbody>
                  
              </table>
              
          </div>
        </div>
    </div>
    </ui:define>

</ui:composition>


